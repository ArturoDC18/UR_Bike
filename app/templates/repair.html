{% extends "base.html" %}

{% block main %}
<h2>Bike Parts Database</h2>

<!-- Search Form -->
<form action="{{ url_for('repair') }}" method="get" class="mb-4">
    <div class="input-group">
        <input type="text" name="search" class="form-control" placeholder="Search for a part" value="{{ request.args.get('search') }}">
        <div class="input-group-append">
            <button class="btn btn-primary" type="submit">Search</button>
        </div>
    </div>
</form>

{% if parts %}
    <table class="table table-striped">
        <thead>
            <tr>
                <th>#</th>
                <th>Part Name</th>
                <th>Details</th>
            </tr>
        </thead>
        <tbody>
            {% for part in parts %}
            <tr>
                <td>{{ part.id }}</td>
                <td>{{ part.name }}</td>
                <td><a href="{{ url_for('part_details', part_id=part.id) }}" class="btn btn-info btn-sm">View</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <p>No parts found matching your search.</p>
{% endif %}

<a href="{{ url_for('add_part') }}" class="btn btn-primary">Add New Part</a>
{% endblock %}
